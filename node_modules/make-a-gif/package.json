{
  "name": "make-a-gif",
  "version": "4.1.2",
  "description": "A pure typescript module to create a gif in the easiest way possible.",
  "main": "build/index.js",
  "type": "module",
  "keywords": [
    "gif",
    "create-gif",
    "gif-encoder",
    "create-gifs",
    "gifs",
    "easy-gifs"
  ],
  "repository": {
    "type": "github",
    "url": "https://github.com/VyrekXD/MAG"
  },
  "homepage": "https://github.com/VyrekXD",
  "author": "Vyrek",
  "license": "Apache-2.0",
  "dependencies": {
    "imagescript": "github:matmen/ImageScript",
    "phin": "^3.6.1"
  },
  "devDependencies": {
    "@types/node": "^17.0.27",
    "typescript": "^4.6.3"
  },
  "scripts": {
    "test": "pnpm run build && node test/index.js",
    "build": "npx tsc"
  },
  "readme": "# MAG (make-a-gif)\r\n\r\nA pure typescript module to make easier a gif\r\n\r\n# Contents\r\n\r\n-   [Installation](#installation)\r\n-   [Overview](#overview)\r\n-   [Usage](#usage)\r\n    -   [Constructor](#constructor)\r\n    -   [Methods](#methods)\r\n    -   [Interfaces](#interfaces)\r\n-   [Examples](#expamples)\r\n    -   [General](#main)\r\n    -   [Discord.js](#discord.js)\r\n\r\n## Installation\r\n\r\n```\r\nnpm install make-a-gif\r\n```\r\n\r\n## Overview\r\n\r\nNo extra dependencies, this module doesnt uses canvas, it uses [imagescript](https://www.npmjs.com/package/imagescript)\r\n\r\n## Usage\r\n\r\n### Constructor\r\n\r\n`Gif(width, height)`\r\n\r\n| Parameter |  Type  |                  Description                  | Required | Default |\r\n| :-------: | :----: | :-------------------------------------------: | :------: | :-----: |\r\n|  `width`  | number |         The width of images in pixels         |    no    |   500   |\r\n| `height`  | number |        The height of images in pixels         |    no    |   500   |\r\n| `quality` | number | The quality of the gif ((best) 1..30 (worst)) |    no    |    1    |\r\n\r\n```js\r\nconst gif = new Gif()\r\nconst gif = new Gif(200)\r\nconst gif = new Gif(600, 700)\r\nconst gif = new Gif(600, 700, 1)\r\n```\r\n\r\n### Methods\r\n\r\n|   Method    |   Parameter   |                         Description                         | Default |\r\n| :---------: | :-----------: | :---------------------------------------------------------: | :-----: |\r\n| `setLoops`  |    number     | The number of loops the gif will play, -1 is infinite loops |   -1    |\r\n| `setFrames` | Frame/Frame[] |                    Set frames to the gif                    |   n/a   |\r\n| `addFrame`  |     Frame     |                   Add a frame to the gif                    |   n/a   |\r\n|  `encode`   |      n/a      |      Renderizes the gif, returns a promise Uint8Array       |   n/a   |\r\n\r\n### Interfaces\r\n\r\n|     Interface     |                                  Types                                   |                                                                   Description                                                                   |\r\n| :---------------: | :----------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------: |\r\n|      `Frame`      | \\{src: SupportedImages, background?: SupportedImages, duration?: number} | The src is the main image and the background the image at the back at the src and the duration of the frame in the gif, default 500 miliseconds |\r\n| `SupportedImages` |                           string \\| Uint8Array                           |                                                              A buffer or a string                                                               |\r\n\r\n## Examples\r\n\r\n### Main\r\n\r\n```js\r\n//We need to import the module first\r\nimport { Gif } from 'make-a-gif'\r\n\r\n//This is for get the dirname\r\nimport { fileURLToPath } from 'url'\r\nimport { join, dirname } from 'path'\r\n\r\n//Import fs to write the gif maked, this step is optional\r\nimport fs from 'fs/promises'\r\n\r\n// To fetch the buffer of an image\r\nimport fetch from 'node-fetch'\r\n\r\n//This is for get the dirname\r\n// @ts-ignore\r\nconst __filename = fileURLToPath(import.meta.url)\r\nconst __dirname = dirname(__filename)\r\n\r\n//An async function because to render the image we recieve a promise\r\n;(async () => {\r\n\t// This is an example\r\n\t// Fetch the buffer of an image\r\n\tconst res = await fetch(\r\n\t\t'https://cdn.discordapp.com/attachments/724014357343895703/960220310144184330/unknown.png'\r\n\t)\r\n\r\n\t//We instance the class Gif and give the proportions of width 500 and height 500\r\n\tconst myGif = new Gif(500, 500)\r\n\t//We set 3 images that will be 3 frames\r\n\tawait myGif.setFrames([\r\n\t\t{\r\n\t\t\tsrc: 'https://cdn.discordapp.com/attachments/960206787775201314/960213088974561280/unknown.png'\r\n\t\t},\r\n\t\t{\r\n\t\t\tsrc: new Uint8Array(await res.arrayBuffer())\r\n\t\t},\r\n\t\t{\r\n\t\t\tsrc: 'https://cdn.discordapp.com/attachments/960206787775201314/960213089536585808/unknown.png',\r\n\t\t\tbackground:\r\n\t\t\t\t'https://cdn.discordapp.com/attachments/724014357343895703/960220070976565378/unknown.png'\r\n\t\t}\r\n\t])\r\n\r\n\t//Render the image, it will return a Buffer or it will give an error if anything goes wrong\r\n\tconst Render = await myGif.decode()\r\n\r\n\t//Writes the gif in this folder\r\n\tawait fs.writeFile(join(__dirname, 'make-a-gif.gif'), Render)\r\n})()\r\n```\r\n\r\n### Discord.js\r\n\r\n```js\r\n//We need to import the module first, in your code it will be like import { Gif } from 'make-a-gif'\r\nimport { Gif } from '../build/index.js'\r\n\r\n// To fetch the buffer of an image\r\nimport fetch from 'node-fetch'\r\n\r\n//An async function because to render the image we recieve a promise\r\n;(async () => {\r\n\t// This is an example\r\n\t// Fetch the buffer of an image\r\n\tconst res = await fetch(\r\n\t\t'https://cdn.discordapp.com/attachments/724014357343895703/960220310144184330/unknown.png'\r\n\t)\r\n\r\n\t//We instance the class Gif and give the proportions of width 500 and height 500\r\n\tconst myGif = new Gif(500, 500)\r\n\t//We set 3 images that will be 3 frames\r\n\tawait myGif.setFrames([\r\n\t\t{\r\n\t\t\tsrc: 'https://cdn.discordapp.com/attachments/960206787775201314/960213088974561280/unknown.png'\r\n\t\t},\r\n\t\t{\r\n\t\t\tsrc: new Uint8Array(await res.arrayBuffer())\r\n\t\t},\r\n\t\t{\r\n\t\t\tsrc: 'https://cdn.discordapp.com/attachments/960206787775201314/960213089536585808/unknown.png',\r\n\t\t\tbackground:\r\n\t\t\t\t'https://cdn.discordapp.com/attachments/724014357343895703/960220070976565378/unknown.png'\r\n\t\t}\r\n\t])\r\n\r\n\t//Render the image, it will return a Buffer or it will give an error if anything goes wrong\r\n\tconst render = await myGif.decode()\r\n\tconst attachment = new Discord.MessageAttachment(Buffer.from(render.buffer))\r\n\r\n\tmessage.channel.send({ attachments: [attachment] })\r\n})()\r\n```\r\n\r\n<p align=\"center\">\r\n<img src=\"https://vyrekxd.is-inside.me/mAFsuW8O.gif\" />\r\n</p>\r\n"
}